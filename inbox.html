<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Inbox</title>
<script src="mail-generator.js"></script>
<script type="text/javascript" src="jquery-3.1.1.min.js"></script>
<script>
window.onload = function(){

	for (var i = 0; i < window.geemails.length; i++) {
		var email = window.geemails[i];
		showGeemail(email);
	}

	var addGeemail = setInterval(newGeemail,3000);


	function newGeemail (){
    		var email = getNewMessage();	
    		showGeemail(email);
    		window.geemails.unshift(email);      
    	}


   	function showGeemail (email) {
    			var date = email.date;
    			var sender = email.sender;
    			var subject = email.subject;
    			var body = email.body;
                
                $('#navigation li span').html(window.geemails.length);
    			
    			$('.emailHolder').find('#currentEmail').append(
    				'<h1 class="sender">' + sender + '</h1>' + 
    				'<h2 class="subject">'  + subject +  '</h2>' + 
    				'<h3 class="button">' + 'See Message' + '</h3>' + 
    				'<h4 class="body">'  + body +  '</h4>' + 
    				'<h5 class="date">'  + date +  '</h5>' + 
    				'<br>'
    				)
    				      
    	}
    $('div .button').on('click', function(){
    	$(this).closest('#currentEmail').find('.body').toggle();
    })

}
</script>
</head>
<body>
<header>
<h1>
	<a class="header" href="inbox.html">GEEMail</a>
</h1>
</header>
<nav>
	<ul id="navigation">
		<li class="sidebar"><a href="#">Inbox</a>(<span></span>)</li>
		<li class="sidebar"><a href="#">Favorites</a></li>
		<li class="sidebar"><a href="#">Urgent</a></li>
		<li class="sidebar"><a href="#">Sent Mail</a></li>
		<li class="sidebar"><a href="#">Drafts</a></li>
		<li class="sidebar"><a href="#">Notes</a></li>
		<li class="sidebar"><a href="#">All Mail</a></li>
		<li class="sidebar"><a href="#">Junk Mail</a></li>
		<li class="sidebar"><a href="#">Trash</a></li>
	</ul>
</nav>
<div class="emailHolder">
	<section id="currentEmail">
		<div class="sender"></div>
		<div class="subject"></div>
		<div class="button"></div>
		<div class="body"></div>
		<div class="date"></div>
	</section>
</div>

</body>
</html>